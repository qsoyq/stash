allow-lan: true
mode: rule
log-level: warning
dns:
    default-nameserver:
        - https://223.6.6.6/dns-query
    nameserver:
        - https://dns.alidns.com/dns-query
proxy-groups:
    - name: PROXY
      icon: "https://github.com/shindgewongxj/WHATSINStash/raw/main/icon/select.png"
      type: select
      proxies:
          - DIRECT
          - è‡ªåŠ¨é€‰æ‹©
          - æ‰‹åŠ¨é€‰æ‹©
      lazy: true
    - name: æ¼ç½‘ä¹‹é±¼ğŸŸ
      icon: "https://github.com/shindgewongxj/WHATSINStash/raw/main/icon/select.png"
      type: select
      proxies:
          - DIRECT
          - PROXY
    - name: Telegram
      icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png
      interval: 300
      lazy: true
      type: select
      proxies:
          - PROXY
    - name: Apple
      icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png
      interval: 300
      lazy: true
      type: select
      proxies:
          - DIRECT
          - PROXY
    - name: AppleUpdate
      icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png
      interval: 300
      lazy: true
      type: select
      proxies:
          - DIRECT
          - PROXY
    - name: Media
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png
      interval: 300
      lazy: true
      type: select
      proxies:
          - PROXY
    - name: Google
      icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google.png
      interval: 300
      lazy: true
      type: select
      proxies:
          - PROXY
    - name: X
      icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/X.png
      interval: 300
      lazy: true
      type: select
      proxies:
          - PROXY
    - name: Imgur
      icon: https://imgur.com/favicon.ico
      interval: 300
      lazy: true
      type: select
      proxies:
          - PROXY
          - æ‰‹åŠ¨é€‰æ‹©
    - name: Docker
      icon: https://www.docker.com/favicon.ico
      interval: 300
      lazy: true
      type: select
      proxies:
          - PROXY
          - æ‰‹åŠ¨é€‰æ‹©
    - name: APTV
      icon: https://raw.githubusercontent.com/YanG-1989/m3u/main/APTV.png
      interval: 300
      lazy: true
      type: select
      proxies:
          - DIRECT
          - PROXY
    - name: åŠ¨ç”»ç–¯
      icon: https://ani.gamer.com.tw/favicon.ico
      interval: 300
      lazy: true
      type: select
      proxies:
          - æ¸¯æ¾³å°
          - PROXY
    - name: Tiktok
      icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/TikTok.png
      interval: 300
      lazy: true
      type: select
      tolerance: 15
      proxies:
          - PROXY
          - JP
    - name: Steam
      icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Steam.png
      interval: 300
      lazy: true
      type: select
      proxies:
          - DIRECT
          - PROXY
    - name: Riot
      icon: https://www.riotgames.com/assets/img/meta/6e86ac3d497a87330d381e3ee6e193c3/favicon.ico
      interval: 300
      lazy: true
      type: select
      proxies:
          - DIRECT
          - PROXY
    - name: Talkatone
      icon: https://www.talkatone.com/favicon.ico
      interval: 300
      lazy: true
      type: select
      proxies:
          - DIRECT
          - PROXY
          - US
    - name: OpenAI
      icon: "https://cdn.oaistatic.com/_next/static/media/favicon-32x32.be48395e.png"
      filter: ^(?!.*(?:ä¸­å›½|é¦™æ¸¯)).*().*
      type: select
      include-all: true
    - name: Gemini
      icon: https://www.gstatic.com/lamda/images/gemini_favicon_f069958c85030456e93de685481c559f160ea06b.png
      type: select
      include-all: true
    - name: MetaAI
      icon: https://static.xx.fbcdn.net/rsrc.php/v3/y4/r/WUJbsVI4ruF.png
      lazy: true
      type: select
      include-all: true
    - name: PayPal
      icon: https://fastly.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/PayPal.png
      type: select
      proxies:
          - US
          - UK
          - æ¸¯æ¾³å°
          - PROXY
    - name: US
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/US.png
      type: select
      filter: "ç¾å›½|US|us|ğŸ‡ºğŸ‡¸"
      include-all: true
      lazy: true
    - name: JP
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/JP.png
      type: select
      filter: "JP|æ—¥æœ¬|ğŸ‡¯ğŸ‡µ"
      include-all: true
      lazy: true
    - name: UK
      icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_Kingdom.png
      type: select
      filter: "è‹±å›½|ğŸ‡¬ğŸ‡§|UK|uk"
      include-all: true
    - name: æ¸¯æ¾³å°
      icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png
      type: select
      lazy: true
      filter: "ğŸ‡­ğŸ‡°|ğŸ‡²ğŸ‡´|é¦™æ¸¯|æ¾³é—¨|å°æ¹¾"
      include-all: true
    - name: è‡ªåŠ¨é€‰æ‹©
      icon: "https://github.com/shindgewongxj/WHATSINStash/raw/main/icon/urltest.png"
      interval: 600
      lazy: true
      type: url-test
      include-all: true
      filter: "^(?!.*(?:å¥—é¤åˆ°æœŸ|å‰©ä½™æµé‡|stashlink|mac))"
    - name: æ‰‹åŠ¨é€‰æ‹©
      icon: "https://github.com/shindgewongxj/WHATSINStash/raw/main/icon/select.png"
      interval: 600
      type: select
      include-all: true
      filter: "^(?!.*(?:å¥—é¤åˆ°æœŸ|å‰©ä½™æµé‡|stashlink|mac))"
rules:
    # ä¸ªäººåˆ†æµç­–ç•¥ç»„
    - DOMAIN,iosapps.itunes.apple.com,AppleUpdate # iOSåº”ç”¨æ›´æ–°
    - DOMAIN-SUFFIX,apple-relay.apple.com,OpenAI
    - DOMAIN-SUFFIX,apple-relay.cloudflare.com,OpenAI
    - DOMAIN-SUFFIX,apple-relay,OpenAI
    - DOMAIN-SUFFIX,gamer.com.tw,åŠ¨ç”»ç–¯

    # åˆ†æµ
    - GEOSITE,apple-update,AppleUpdate # Apple ç³»ç»Ÿæ›´æ–°
    - GEOSITE,imgur,Imgur
    - GEOSITE,x,X
    - GEOSITE,docker,Docker
    - GEOSITE,google-gemini,Gemini
    - GEOSITE,riot,Riot
    - GEOSITE,youtube,Media
    - GEOSITE,twitch,Media
    - GEOSITE,netflix,Media
    - GEOSITE,paypal,PayPal
    - GEOSITE,apple,Apple
    - GEOSITE,tiktok,Tiktok
    - GEOSITE,openai,OpenAI
    - GEOSITE,steam,Steam
    - GEOSITE,steam@cn,Steam
    - GEOSITE,google,Google

    # ä»£ç†
    - GEOSITE,disney,PROXY
    - GEOSITE,quora,PROXY
    - GEOSITE,gitlab,PROXY
    - GEOSITE,discord,PROXY
    - GEOSITE,whatsapp,PROXY
    - GEOSITE,duckduckgo,PROXY
    - GEOSITE,github,PROXY
    - GEOSITE,pikpak,PROXY
    - GEOSITE,instagram,PROXY
    - GEOSITE,reddit,PROXY
    - GEOSITE,speedtest,PROXY
    - GEOSITE,nvidia,PROXY
    - GEOSITE,cloudflare,PROXY

    - RULE-SET,domain.proxy,PROXY,no-resolve

    # ç›´è¿
    - IP-CIDR,0.0.0.0/24,REJECT # DNSæ‹¦æˆªåè¿”å›ç©º IP
    - GEOSITE,cn,DIRECT
    - GEOIP,cn,DIRECT,no-resolve

    # æ¼ç½‘ä¹‹é±¼
    - MATCH,æ¼ç½‘ä¹‹é±¼ğŸŸ

rule-providers:
    domain.proxy:
        behavior: domain
        format: yaml
        interval: 86400
        type: http
        url: https://raw.githubusercontent.com/qsoyq/stash/main/ruleset/domain.proxy.yaml
